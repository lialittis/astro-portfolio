import{j as he}from"./jsx-runtime.CYiYLu1p.js";import{R as a,r as t}from"./index.CZlPm10g.js";import{_escapeString as Ye,_getGridRegisteredModules as Ze,_warn as Ue,_observeResize as _e,CssClassManager as Se,_EmptyBean as de,AgPromise as oe,HeaderRowContainerCtrl as Xe,GridHeaderCtrl as et,_getRowContainerOptions as tt,_getRowViewportClass as st,_getRowContainerClass as rt,_getRowSpanContainerClass as nt,RowContainerCtrl as ot,GridBodyCtrl as at,TabGuardCtrl as ct,GridCtrl as lt,_isClientSideRowModel as it,_isServerSideRowModel as ut,_combineAttributesAndGridOptions as dt,_getGlobalGridOption as pt,GridCoreCreator as mt,_processOnChange as ht,_setAriaSort as ft,_removeAriaSort as Ct,_removeFromParent as gt,_setAriaRowCount as yt,_setAriaColCount as Rt,FakeHScrollComp as vt,FakeVScrollComp as wt,TabGuardClassNames as Pe,VanillaFrameworkOverrides as St,BaseComponentWrapper as bt,BeanStub as Et,_getLocaleTextFunc as kt,ModuleRegistry as Pt,AllCommunityModule as Mt}from"./main.esm.BYNXihiS.js";import{r as Ve,R as Ft}from"./index.F2cJQlSt.js";var Z=a.createContext({}),fe=(e,s,r,n)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const i=e.newAgStackInstance();let u,c,d=!1;return i.then(l=>{if(d){s.destroyBean(l);return}u=l,c=u.getGui(),r.appendChild(c),Ie(n,u)}),()=>{d=!0,u&&(c?.parentElement?.removeChild(c),s.destroyBean(u),n&&Ie(n,void 0))}},Ie=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},se=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),re=class Le{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const o=new Le;return o.classesMap={...this.classesMap},o.classesMap[s]=r,o}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},pe=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Fe=a.version?.split(".")[0],xt=Fe==="16"||Fe==="17";function Bt(){return Fe==="19"}var ye=!1;function Gt(e){return ye||setTimeout(()=>ye=!1,0),ye=!0,e()}var Re=(e,s)=>{!xt&&e&&!ye?Ft.flushSync(s):s()};function ve(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const n=[],o=[],i=new Map,u=new Map;for(let c=0;c<s.length;c++){const d=s[c];u.set(d.instanceId,d)}for(let c=0;c<e.length;c++){const d=e[c];i.set(d.instanceId,d),u.has(d.instanceId)&&n.push(d)}for(let c=0;c<s.length;c++){const d=s[c],l=d.instanceId;i.has(l)||o.push(d)}return n.length===e.length&&o.length===0?e:n.length===0&&o.length===s.length?s:n.length===0?o:o.length===0?n:[...n,...o]}var je=t.forwardRef((e,s)=>{const{registry:r,context:n}=t.useContext(Z),o=t.useRef(null),i=t.useRef(null),u=t.useRef(null),c=t.useRef(null),d=t.useRef(null),l=t.useRef(),[f,w]=t.useState(),[C,p]=t.useState(),[S,y]=t.useState(),[h,m]=t.useState(()=>new re),[b,M]=t.useState(()=>new re("ag-hidden")),[k,E]=t.useState(()=>new re("ag-hidden")),[D,W]=t.useState(()=>new re("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>fe(f,n,i.current),[f]);const U=t.useCallback(V=>{if(o.current=V,!V){l.current=n.destroyBean(l.current);return}const g={setInnerRenderer:(F,O)=>{w(F),y(O)},setChildCount:F=>p(F),addOrRemoveCssClass:(F,O)=>m(z=>z.setClass(F,O)),setContractedDisplayed:F=>E(O=>O.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>M(O=>O.setClass("ag-hidden",!F)),setCheckboxVisible:F=>W(O=>O.setClass("ag-invisible",!F))},N=r.createDynamicBean("groupCellRendererCtrl",!0);N&&(l.current=n.createBean(N),l.current.init(g,V,u.current,c.current,d.current,je,e))},[]),G=t.useMemo(()=>`ag-cell-wrapper ${h.toString()}`,[h]),R=t.useMemo(()=>`ag-group-expanded ${b.toString()}`,[b]),P=t.useMemo(()=>`ag-group-contracted ${k.toString()}`,[k]),B=t.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),v=f&&f.componentFromFramework,_=v?f.componentClass:void 0,x=f==null&&S!=null,H=Ye(S,!0);return a.createElement("span",{className:G,ref:U,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},a.createElement("span",{className:R,ref:c}),a.createElement("span",{className:P,ref:d}),a.createElement("span",{className:B,ref:u}),a.createElement("span",{className:"ag-group-value",ref:i},x&&a.createElement(a.Fragment,null,H),v&&a.createElement(_,{...f.params})),a.createElement("span",{className:"ag-group-child-count"},C))}),Oe=je,xe=t.createContext({setMethods:()=>{}}),Dt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:n,setMethods:o}=e,[{key:i,...u},c]=t.useState(s);return t.useEffect(()=>{r(d=>c(d))},[]),a.createElement(xe.Provider,{value:{setMethods:o}},a.createElement(n,{key:i,...u}))},At=t.memo(Dt),It=0;function We(){return`agPortalKey_${++It}`}var ze=class{constructor(e,s,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=We(),this.portalKey=We(),this.instanceCreated=this.isStatelessComponent()?oe.resolve(!1):new oe(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const n=r[e];if(n)return n.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new oe(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{this.componentInstance=s,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Ve.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Be(e,s,r){e.forEach(n=>{const o=s[n];o&&(r[n]=o)})}var ne=class extends ze{constructor(){super(...arguments),this.awaitUpdateCallback=new oe(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=At}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new oe(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Be(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new oe(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Ot=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Wt=class extends ne{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Tt=class extends ne{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:n}=this;return e.label=s,e.icon=r,e.shake=n,e}},Nt=class extends ne{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new oe(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const s=this.providedMethods;s?s.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function $e(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||oe.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Ht=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Be(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.floatingFilterParams,e)}},Ut=class extends ne{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},_t=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Vt=class extends ne{refresh(e){this.sourceParams=e,this.refreshProps()}},Lt=class extends ne{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},jt=class extends ne{refresh(e){this.sourceParams=e,this.refreshProps()}},zt=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},$t=class extends ne{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ge(){Ue(231)}var Jt=1e3,Kt=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Jt}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},qt=({ctrl:e})=>{const s=e.isAlive(),{context:r}=t.useContext(Z),n=s?e.column.getColId():void 0,[o,i]=t.useState(),[u,c]=t.useState(),d=t.useRef(),l=t.useRef(null),f=t.useRef(null),w=t.useRef(null),C=t.useRef(),p=t.useRef();s&&!p.current&&(p.current=new Se(()=>l.current));const S=t.useCallback(b=>{if(l.current=b,d.current=b?r.createBean(new de):r.destroyBean(d.current),!b||!s)return;const M={setWidth:E=>{l.current&&(l.current.style.width=E)},addOrRemoveCssClass:(E,D)=>p.current.addOrRemoveCssClass(E,D),setUserStyles:E=>c(E),setAriaSort:E=>{l.current&&(E?ft(l.current,E):Ct(l.current))},setUserCompDetails:E=>i(E),getUserCompInstance:()=>C.current||void 0};e.setComp(M,b,f.current,w.current,d.current);const k=e.getSelectAllGui();k&&(f.current?.insertAdjacentElement("afterend",k),d.current.addDestroyFunc(()=>k.remove()))},[]);t.useLayoutEffect(()=>fe(o,r,w.current,C),[o]),t.useEffect(()=>{e.setDragSource(l.current)},[o]);const y=t.useMemo(()=>!!(o?.componentFromFramework&&pe(o.componentClass)),[o]),h=o&&o.componentFromFramework,m=o&&o.componentClass;return a.createElement("div",{ref:S,style:u,className:"ag-header-cell","col-id":n,role:"columnheader"},a.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),a.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},h&&y&&a.createElement(m,{...o.params}),h&&!y&&a.createElement(m,{...o.params,ref:C})))},Qt=t.memo(qt),Yt=({ctrl:e})=>{const{context:s,gos:r}=t.useContext(Z),[n,o]=t.useState(),[i,u]=t.useState(()=>new re("ag-header-cell","ag-floating-filter")),[c,d]=t.useState(()=>new re),[l,f]=t.useState(()=>new re("ag-floating-filter-button","ag-hidden")),[w,C]=t.useState("false"),[p,S]=t.useState(),[,y]=t.useState(1),h=t.useRef(),m=t.useRef(null),b=t.useRef(null),M=t.useRef(null),k=t.useRef(null),E=t.useRef(),D=t.useRef(),W=g=>{g!=null&&E.current&&E.current(g)},U=t.useCallback(g=>{if(m.current=g,h.current=g?s.createBean(new de):s.destroyBean(h.current),!g)return;D.current=new oe(F=>{E.current=F});const N={addOrRemoveCssClass:(F,O)=>u(z=>z.setClass(F,O)),setUserStyles:F=>o(F),addOrRemoveBodyCssClass:(F,O)=>d(z=>z.setClass(F,O)),setButtonWrapperDisplayed:F=>{f(O=>O.setClass("ag-hidden",!F)),C(F?"false":"true")},setWidth:F=>{m.current&&(m.current.style.width=F)},setCompDetails:F=>S(F),getFloatingFilterComp:()=>D.current?D.current:null,setMenuIcon:F=>k.current?.appendChild(F)};e.setComp(N,g,k.current,b.current,h.current)},[]);t.useLayoutEffect(()=>fe(p,s,b.current,W),[p]);const G=t.useMemo(()=>i.toString(),[i]),R=t.useMemo(()=>c.toString(),[c]),P=t.useMemo(()=>l.toString(),[l]),B=t.useMemo(()=>!!(p&&p.componentFromFramework&&pe(p.componentClass)),[p]),v=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),_=t.useMemo(()=>{if(p)if(v){const g=new Ht(p.params,()=>y(N=>N+1));return W(g),g}else p.componentFromFramework&&Ge()},[p]),x=_?.getProps(),H=p&&p.componentFromFramework,V=p&&p.componentClass;return a.createElement("div",{ref:U,style:n,className:G,role:"gridcell"},a.createElement("div",{ref:b,className:R,role:"presentation"},H&&!v&&a.createElement(V,{...p.params,ref:B?()=>{}:W}),H&&v&&a.createElement(xe.Provider,{value:{setMethods:g=>_.setMethods(g)}},a.createElement(V,{...x}))),a.createElement("div",{ref:M,"aria-hidden":w,className:P,role:"presentation"},a.createElement("button",{ref:k,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Zt=t.memo(Yt),Xt=({ctrl:e})=>{const{context:s}=t.useContext(Z),[r,n]=t.useState(),[o,i]=t.useState(()=>new re),[u,c]=t.useState(()=>new re),[d,l]=t.useState("false"),[f,w]=t.useState(),[C,p]=t.useState(),S=t.useMemo(()=>e.column.getUniqueId(),[]),y=t.useRef(),h=t.useRef(null),m=t.useRef(null),b=t.useRef(null),M=t.useRef(),k=t.useCallback(R=>{if(h.current=R,y.current=R?s.createBean(new de):s.destroyBean(y.current),!R)return;const P={setWidth:B=>{h.current&&(h.current.style.width=B)},addOrRemoveCssClass:(B,v)=>i(_=>_.setClass(B,v)),setUserStyles:B=>n(B),setHeaderWrapperHidden:B=>{const v=b.current;v&&(B?v.style.setProperty("display","none"):v.style.removeProperty("display"))},setHeaderWrapperMaxHeight:B=>{const v=b.current;v&&(B!=null?v.style.setProperty("max-height",`${B}px`):v.style.removeProperty("max-height"),v.classList.toggle("ag-header-cell-comp-wrapper-limited-height",B!=null))},setUserCompDetails:B=>p(B),setResizableDisplayed:B=>{c(v=>v.setClass("ag-hidden",!B)),l(B?"false":"true")},setAriaExpanded:B=>w(B),getUserCompInstance:()=>M.current||void 0};e.setComp(P,R,m.current,b.current,y.current)},[]);t.useLayoutEffect(()=>fe(C,s,b.current),[C]),t.useEffect(()=>{h.current&&e.setDragSource(h.current)},[C]);const E=t.useMemo(()=>!!(C?.componentFromFramework&&pe(C.componentClass)),[C]),D=t.useMemo(()=>"ag-header-group-cell "+o.toString(),[o]),W=t.useMemo(()=>"ag-header-cell-resize "+u.toString(),[u]),U=C&&C.componentFromFramework,G=C&&C.componentClass;return a.createElement("div",{ref:k,style:r,className:D,"col-id":S,role:"columnheader","aria-expanded":f},a.createElement("div",{ref:b,className:"ag-header-cell-comp-wrapper",role:"presentation"},U&&E&&a.createElement(G,{...C.params}),U&&!E&&a.createElement(G,{...C.params,ref:M})),a.createElement("div",{ref:m,"aria-hidden":d,className:W}))},es=t.memo(Xt),ts=({ctrl:e})=>{const{context:s}=t.useContext(Z),{topOffset:r,rowHeight:n}=t.useMemo(()=>e.getTopAndHeight(),[]),o=e.getAriaRowIndex(),i=e.headerRowClass,[u,c]=t.useState(()=>n+"px"),[d,l]=t.useState(()=>r+"px"),f=t.useRef(null),w=t.useRef(null),[C,p]=t.useState(()=>e.getHeaderCtrls()),S=t.useRef(),y=t.useRef(null),h=t.useCallback(M=>{if(y.current=M,S.current=M?s.createBean(new de):s.destroyBean(S.current),!M)return;const k={setHeight:E=>c(E),setTop:E=>l(E),setHeaderCtrls:(E,D,W)=>{w.current=f.current,f.current=E;const U=ve(w.current,E,D);U!==w.current&&Re(W,()=>p(U))},setWidth:E=>{y.current&&(y.current.style.width=E)}};e.setComp(k,S.current,!1)},[]),m=t.useMemo(()=>({height:u,top:d}),[u,d]),b=t.useCallback(M=>{switch(e.type){case"group":return a.createElement(es,{ctrl:M,key:M.instanceId});case"filter":return a.createElement(Zt,{ctrl:M,key:M.instanceId});default:return a.createElement(Qt,{ctrl:M,key:M.instanceId})}},[]);return a.createElement("div",{ref:h,className:i,role:"row",style:m,"aria-rowindex":o},C.map(b))},ss=t.memo(ts),rs=({pinned:e})=>{const[s,r]=t.useState(!0),[n,o]=t.useState([]),{context:i}=t.useContext(Z),u=t.useRef(null),c=t.useRef(null),d=t.useRef(),l=e==="left",f=e==="right",w=!l&&!f,C=t.useCallback(y=>{if(u.current=y,d.current=y?i.createBean(new Xe(e)):i.destroyBean(d.current),!y)return;const h={setDisplayed:r,setCtrls:m=>o(m),setCenterWidth:m=>{c.current&&(c.current.style.width=m)},setViewportScrollLeft:m=>{u.current&&(u.current.scrollLeft=m)},setPinnedContainerWidth:m=>{u.current&&(u.current.style.width=m,u.current.style.minWidth=m,u.current.style.maxWidth=m)}};d.current.setComp(h,u.current)},[]),p=s?"":"ag-hidden",S=()=>n.map(y=>a.createElement(ss,{ctrl:y,key:y.instanceId}));return a.createElement(a.Fragment,null,l&&a.createElement("div",{ref:C,className:"ag-pinned-left-header "+p,"aria-hidden":!s,role:"rowgroup"},S()),f&&a.createElement("div",{ref:C,className:"ag-pinned-right-header "+p,"aria-hidden":!s,role:"rowgroup"},S()),w&&a.createElement("div",{ref:C,className:"ag-header-viewport "+p,role:"presentation"},a.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},S())))},Me=t.memo(rs),ns=()=>{const[e,s]=t.useState(()=>new re),[r,n]=t.useState(),{context:o}=t.useContext(Z),i=t.useRef(null),u=t.useRef(),c=t.useCallback(f=>{if(i.current=f,u.current=f?o.createBean(new et):o.destroyBean(u.current),!f)return;const w={addOrRemoveCssClass:(C,p)=>s(S=>S.setClass(C,p)),setHeightAndMinHeight:C=>n(C)};u.current.setComp(w,f,f)},[]),d=t.useMemo(()=>"ag-header "+e.toString(),[e]),l=t.useMemo(()=>({height:r,minHeight:r}),[r]);return a.createElement("div",{ref:c,className:d,style:l,role:"presentation"},a.createElement(Me,{pinned:"left"}),a.createElement(Me,{pinned:null}),a.createElement(Me,{pinned:"right"}))},os=t.memo(ns),as=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const n=r.parentElement;if(n){const o=document.createComment(e);return n.insertBefore(o,r),()=>{n.removeChild(o)}}}},[e])},le=as,cs=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new oe(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Be(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},ls=e=>{const s=t.useRef(e),r=t.useRef(),n=t.useRef(!1),o=t.useRef(!1),[,i]=t.useState(0);n.current&&(o.current=!0),t.useEffect(()=>(n.current||(r.current=s.current(),n.current=!0),i(u=>u+1),()=>{o.current&&r.current?.()}),[])},is=e=>{const[s,r]=t.useState(),{context:n,popupSvc:o,localeSvc:i,gos:u,editSvc:c}=t.useContext(Z);return ls(()=>{const{editDetails:d,cellCtrl:l,eParentCell:f}=e,{compDetails:w}=d,C=u.get("stopEditingWhenCellsLoseFocus"),p=n.createBean(c.createPopupEditorWrapper(w.params)),S=p.getGui();if(e.jsChildComp){const D=e.jsChildComp.getGui();D&&S.appendChild(D)}const{column:y,rowNode:h}=l,m={column:y,rowNode:h,type:"popupCellEditor",eventSource:f,ePopup:S,position:d.popupPosition,keepWithinBounds:!0},b=o?.positionPopupByComponent.bind(o,m),M=kt(i),k=o?.addPopup({modal:C,eChild:S,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:f,positionCallback:b,ariaLabel:M("ariaLabelCellEditor","Cell Editor")}),E=k?k.hideFunc:void 0;return r(p),e.jsChildComp?.afterGuiAttached?.(),()=>{E?.(),n.destroyBean(p)}}),a.createElement(a.Fragment,null,s&&e.wrappedContent&&Ve.createPortal(e.wrappedContent,s.getGui()))},Te=t.memo(is),us=(e,s,r,n,o,i)=>{const{context:u}=t.useContext(Z),c=t.useCallback(()=>{const d=o.current;if(!d)return;const l=d.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),u.destroyBean(d),o.current=void 0},[]);t.useEffect(()=>{const d=e!=null,l=e?.compDetails&&!e.compDetails.componentFromFramework,f=s&&r==null;if(!(d&&l&&!f)){c();return}const C=e.compDetails;if(o.current){const S=o.current,h=S.refresh!=null&&e.force==!1?S.refresh(C.params):!1;if(h===!0||h===void 0)return;c()}C.newAgStackInstance().then(S=>{if(!S)return;const y=S.getGui();if(!y)return;(s?r:i.current).appendChild(y),o.current=S})},[e,s,n]),t.useEffect(()=>c,[])},ds=us,ps=(e,s,r)=>{const{compProxy:n}=e;r(n);const o=n.getProps(),i=pe(s);return a.createElement(xe.Provider,{value:{setMethods:u=>n.setMethods(u)}},i?a.createElement(s,{...o}):a.createElement(s,{...o,ref:u=>n.setRef(u)}))},Ne=(e,s,r)=>{const n=e.compProxy;return a.createElement(a.Fragment,null,n?ps(e,s,r):a.createElement(s,{...e.compDetails.params,ref:r}))},ms=(e,s,r,n,o)=>{const i=e.compDetails,u=i.componentClass,c=i.componentFromFramework&&!e.popup,d=i.componentFromFramework&&e.popup,l=!i.componentFromFramework&&e.popup;return a.createElement(a.Fragment,null,c&&Ne(e,u,s),d&&a.createElement(Te,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Ne(e,u,s)}),l&&o&&a.createElement(Te,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:o}))},hs=(e,s,r,n,o,i,u)=>{const{compDetails:c,value:d}=e,l=!c,f=c&&c.componentFromFramework,w=c&&c.componentClass,C=d?.toString?d.toString():d,p=()=>a.createElement(a.Fragment,null,l&&a.createElement(a.Fragment,null,C),f&&!i&&a.createElement(w,{...c.params,key:s,ref:n}),f&&i&&a.createElement(w,{...c.params,key:s}));return a.createElement(a.Fragment,null,o?a.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:u},p()):p())},fs=({cellCtrl:e,printLayout:s,editingRow:r})=>{const{context:n}=t.useContext(Z),{colIdSanitised:o,instanceId:i}=e,u=t.useRef(),[c,d]=t.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[l,f]=t.useState(),[w,C]=t.useState(1),[p,S]=t.useState(),[y,h]=t.useState(!1),[m,b]=t.useState(!1),[M,k]=t.useState(!1),[E,D]=t.useState(),W=t.useMemo(()=>e.isForceWrapper(),[e]),U=t.useMemo(()=>e.getCellAriaRole(),[e]),G=t.useRef(null),R=t.useRef(null),P=t.useRef(null),B=t.useRef(),v=t.useRef(),_=t.useRef(),x=t.useRef([]),H=t.useRef(),[V,g]=t.useState(0),N=t.useCallback(L=>{H.current=L,g(J=>J+1)},[]),F=c!=null&&(y||M||m),O=W||F,z=t.useCallback(L=>{if(v.current=L,L){const J=L.isCancelBeforeStart&&L.isCancelBeforeStart();setTimeout(()=>{J?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),I=t.useRef();I.current||(I.current=new Se(()=>G.current)),ds(c,O,H.current,V,B,G);const A=t.useRef();t.useLayoutEffect(()=>{const L=A.current,J=c;if(A.current=c,L==null||L.compDetails==null||J==null||J.compDetails==null)return;const q=L.compDetails,ee=J.compDetails;if(q.componentClass!=ee.componentClass||P.current?.refresh==null)return;P.current.refresh(ee.params)!=!0&&C(Q=>Q+1)},[c]),t.useLayoutEffect(()=>{if(!(l&&!l.compDetails.componentFromFramework))return;const J=l.compDetails,q=l.popup===!0,ee=J.newAgStackInstance();return ee.then(T=>{if(!T)return;const Q=T.getGui();z(T),q||((W?_:G).current?.appendChild(Q),T.afterGuiAttached&&T.afterGuiAttached()),D(T)}),()=>{ee.then(T=>{const Q=T.getGui();n.destroyBean(T),z(void 0),D(void 0),Q?.parentElement?.removeChild(Q)})}},[l]);const K=t.useCallback(L=>{if(_.current=L,!L){x.current.forEach(q=>q()),x.current=[];return}const J=q=>{if(q){const ee=q.getGui();L.insertAdjacentElement("afterbegin",ee),x.current.push(()=>{n.destroyBean(q),gt(ee)})}return q};if(y){const q=e.createSelectionCheckbox();J(q)}M&&J(e.createDndSource()),m&&J(e.createRowDragComp())},[e,n,M,m,y]),$=t.useCallback(()=>{const L=!e.isCellSpanning()||R.current,J=G.current;if(u.current=J?n.createBean(new de):n.destroyBean(u.current),!J||!L||!e)return;const q={addOrRemoveCssClass:(T,Q)=>I.current.addOrRemoveCssClass(T,Q),setUserStyles:T=>S(T),getFocusableElement:()=>G.current,setIncludeSelection:T=>h(T),setIncludeRowDrag:T=>b(T),setIncludeDndSource:T=>k(T),getCellEditor:()=>v.current||null,getCellRenderer:()=>P.current??B.current,getParentOfValue:()=>H.current??_.current??G.current,setRenderDetails:(T,Q,ce)=>{d(te=>te?.compDetails!==T||te?.value!==Q||te?.force!==ce?{value:Q,compDetails:T,force:ce}:te)},setEditDetails:(T,Q,ce,te)=>{if(T){let Y;te?Y=new cs(T.params,()=>C(ue=>ue+1)):T.componentFromFramework&&Ge(),f({compDetails:T,popup:Q,popupPosition:ce,compProxy:Y}),Q||d(void 0)}else f(Y=>{Y?.compProxy&&(v.current=void 0)})}},ee=_.current||void 0;e.setComp(q,J,R.current??void 0,ee,s,r,u.current)},[]),ae=t.useCallback(L=>{G.current=L,$()},[]),ie=t.useCallback(L=>{R.current=L,$()},[]),be=t.useMemo(()=>!!(c?.compDetails?.componentFromFramework&&pe(c.compDetails.componentClass)),[c]);t.useLayoutEffect(()=>{G.current&&(I.current.addOrRemoveCssClass("ag-cell-value",!O),I.current.addOrRemoveCssClass("ag-cell-inline-editing",!!l&&!l.popup),I.current.addOrRemoveCssClass("ag-cell-popup-editing",!!l&&!!l.popup),I.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!l||!!l.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&G.current.focus({preventScroll:!0}))});const Ce=()=>a.createElement(a.Fragment,null,c!=null&&hs(c,w,i,P,O,be,N),l!=null&&ms(l,z,G.current,e,E)),Ee=t.useCallback(()=>e.onFocusOut(),[]),ge=()=>a.createElement("div",{ref:ae,style:p,role:U,"col-id":o,onBlur:Ee},O?a.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},Ce()):Ce());return e.isCellSpanning()?a.createElement("div",{ref:ie,className:"ag-spanned-cell-wrapper",role:"presentation"},ge()):ge()},Cs=t.memo(fs),gs=({rowCtrl:e,containerType:s})=>{const{context:r,gos:n}=t.useContext(Z),o=t.useRef(),i=t.useRef(e.getDomOrder()),u=e.isFullWidth(),c=e.rowNode.displayed,[d,l]=t.useState(()=>c?e.rowNode.getRowIndexString():null),[f,w]=t.useState(()=>e.rowId),[C,p]=t.useState(()=>e.businessKey),[S,y]=t.useState(()=>e.rowStyles),h=t.useRef(null),m=t.useRef(null),[b,M]=t.useState(()=>null),[k,E]=t.useState(),[D,W]=t.useState(()=>c?e.getInitialRowTop(s):void 0),[U,G]=t.useState(()=>c?e.getInitialTransform(s):void 0),R=t.useRef(null),P=t.useRef(),B=t.useRef(!1),[v,_]=t.useState(0);t.useEffect(()=>{if(B.current||!k||v>10)return;const A=R.current?.firstChild;A?(e.setupDetailRowAutoHeight(A),B.current=!0):_(K=>K+1)},[k,v]);const x=t.useRef();x.current||(x.current=new Se(()=>R.current));const H=t.useCallback(A=>{if(R.current=A,o.current=A?r.createBean(new de):r.destroyBean(o.current),!A){e.unsetComp(s);return}if(!e.isAlive())return;const K={setTop:W,setTransform:G,addOrRemoveCssClass:($,ae)=>x.current.addOrRemoveCssClass($,ae),setDomOrder:$=>i.current=$,setRowIndex:l,setRowId:w,setRowBusinessKey:p,setUserStyles:y,setCellCtrls:($,ae)=>{m.current=h.current,h.current=$;const ie=ve(m.current,$,i.current);ie!==m.current&&Re(ae,()=>M(ie))},showFullWidth:$=>E($),getFullWidthCellRenderer:()=>P.current,refreshFullWidth:$=>O.current?(E(ae=>({...ae,params:$()})),!0):!P.current||!P.current.refresh?!1:P.current.refresh($())};e.setComp(K,A,s,o.current)},[]);t.useLayoutEffect(()=>fe(k,r,R.current,P),[k]);const V=t.useMemo(()=>{const A={top:D,transform:U};return Object.assign(A,S),A},[D,U,S]),g=u&&k?.componentFromFramework,N=!u&&b!=null,F=t.useMemo(()=>!!(k?.componentFromFramework&&pe(k.componentClass)),[k]),O=t.useRef(!1);t.useEffect(()=>{O.current=F&&!!k&&!!n.get("reactiveCustomComponents")},[F,k]);const z=()=>b?.map(A=>a.createElement(Cs,{cellCtrl:A,editingRow:e.editing,printLayout:e.printLayout,key:A.instanceId})),I=()=>{const A=k.componentClass;return a.createElement(a.Fragment,null,F?a.createElement(A,{...k.params}):a.createElement(A,{...k.params,ref:P}))};return a.createElement("div",{ref:H,role:"row",style:V,"row-index":d,"row-id":f,"row-business-key":C},N&&z(),g&&I())},He=t.memo(gs),ys=({name:e})=>{const{context:s,gos:r}=t.useContext(Z),n=t.useMemo(()=>tt(e),[e]),o=t.useRef(null),i=t.useRef(null),u=t.useRef(null),c=t.useRef([]),d=t.useRef([]),[l,f]=t.useState(()=>[]),w=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,C=t.useRef([]),p=t.useRef([]),[S,y]=t.useState(()=>[]),h=t.useRef(!1),m=t.useRef(),b=t.useMemo(()=>se("ag-viewport",st(e)),[e]),M=t.useMemo(()=>se(rt(e)),[e]),k=t.useMemo(()=>se("ag-spanning-container",nt(e)),[e]),E=n.type==="center"||w,D=E?o:i;le(" AG Row Container "+e+" ",D);const W=t.useCallback(()=>{const x=!E||o.current!=null,H=i.current!=null,V=!w||u.current!=null;return x&&H&&V},[]),U=t.useCallback(()=>o.current==null&&i.current==null&&u.current==null,[]),G=t.useCallback(()=>{if(U()&&(m.current=s.destroyBean(m.current)),W()){const x=g=>{const N=ve(d.current,c.current,h.current);N!==d.current&&(d.current=N,Re(g,()=>f(N)))},H=g=>{const N=ve(p.current,C.current,h.current);N!==p.current&&(p.current=N,Re(g,()=>y(N)))},V={setHorizontalScroll:g=>{o.current&&(o.current.scrollLeft=g)},setViewportHeight:g=>{o.current&&(o.current.style.height=g)},setRowCtrls:({rowCtrls:g,useFlushSync:N})=>{const F=!!N&&c.current.length>0&&g.length>0;c.current=g,x(F)},setSpannedRowCtrls:(g,N)=>{const F=!!N&&C.current.length>0&&g.length>0;C.current=g,H(F)},setDomOrder:g=>{h.current!=g&&(h.current=g,x(!1))},setContainerWidth:g=>{i.current&&(i.current.style.width=g)},setOffsetTop:g=>{i.current&&(i.current.style.transform=`translateY(${g})`)}};m.current=s.createBean(new ot(e)),m.current.setComp(V,i.current,u.current??void 0,o.current)}},[W,U]),R=t.useCallback(x=>{i.current=x,G()},[G]),P=t.useCallback(x=>{u.current=x,G()},[G]),B=t.useCallback(x=>{o.current=x,G()},[G]),v=()=>a.createElement("div",{className:M,ref:R,role:"rowgroup"},l.map(x=>a.createElement(He,{rowCtrl:x,containerType:n.type,key:x.instanceId})));if(!E)return v();const _=()=>w&&a.createElement("div",{className:k,ref:P,role:"rowgroup"},S.map(x=>a.createElement(He,{rowCtrl:x,containerType:n.type,key:x.instanceId})));return a.createElement("div",{className:b,ref:B,role:"presentation"},v(),_())},Rs=t.memo(ys),vs=()=>{const e=t.useContext(Z),{context:s,overlays:r}=e,[n,o]=t.useState(""),[i,u]=t.useState(0),[c,d]=t.useState(0),[l,f]=t.useState("0px"),[w,C]=t.useState("0px"),[p,S]=t.useState("100%"),[y,h]=t.useState("0px"),[m,b]=t.useState("0px"),[M,k]=t.useState("100%"),[E,D]=t.useState(""),[W,U]=t.useState(""),[G,R]=t.useState(null),[P,B]=t.useState(""),[v,_]=t.useState(null),[x,H]=t.useState("ag-layout-normal"),V=t.useRef();V.current||(V.current=new Se(()=>g.current));const g=t.useRef(null),N=t.useRef(null),F=t.useRef(null),O=t.useRef(null),z=t.useRef(null),I=t.useRef(null),A=t.useRef(null),K=t.useRef([]),$=t.useRef([]);le(" AG Grid Body ",g),le(" AG Pinned Top ",N),le(" AG Sticky Top ",F),le(" AG Middle ",I),le(" AG Pinned Bottom ",A);const ae=t.useCallback(Y=>{if(g.current=Y,!Y){K.current=s.destroyBeans(K.current),$.current.forEach(j=>j()),$.current=[];return}if(!s)return;const ue=(j,X)=>{j.appendChild(X),$.current.push(()=>j.removeChild(X))},ke=j=>{const X=s.createBean(new j);return K.current.push(X),X},me=(j,X,Qe)=>{ue(j,document.createComment(Qe)),ue(j,ke(X).getGui())};me(Y,vt," AG Fake Horizontal Scroll ");const De=r?.getOverlayWrapperCompClass();De&&me(Y,De," AG Overlay Wrapper "),z.current&&me(z.current,wt," AG Fake Vertical Scroll ");const qe={setRowAnimationCssOnBodyViewport:o,setColumnCount:j=>{g.current&&Rt(g.current,j)},setRowCount:j=>{g.current&&yt(g.current,j)},setTopHeight:u,setBottomHeight:d,setStickyTopHeight:f,setStickyTopTop:C,setStickyTopWidth:S,setTopDisplay:D,setBottomDisplay:U,setColumnMovingCss:(j,X)=>V.current.addOrRemoveCssClass(j,X),updateLayoutClasses:H,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:B,setCellSelectableCss:(j,X)=>_(X?j:null),setBodyViewportWidth:j=>{I.current&&(I.current.style.width=j)},registerBodyViewportResizeListener:j=>{if(I.current){const X=_e(e,I.current,j);$.current.push(()=>X())}},setStickyBottomHeight:h,setStickyBottomBottom:b,setStickyBottomWidth:k,setGridRootRole:j=>Y.setAttribute("role",j)},Ae=s.createBean(new at);K.current.push(Ae),Ae.setComp(qe,Y,I.current,N.current,A.current,F.current,O.current)},[]),ie=t.useMemo(()=>se("ag-root","ag-unselectable",x),[x]),be=t.useMemo(()=>se("ag-body-viewport",n,x,G,v),[n,x,G,v]),Ce=t.useMemo(()=>se("ag-body",x),[x]),Ee=t.useMemo(()=>se("ag-floating-top",v),[v]),ge=t.useMemo(()=>se("ag-sticky-top",v),[v]),L=t.useMemo(()=>se("ag-sticky-bottom",y==="0px"?"ag-hidden":null,v),[v,y]),J=t.useMemo(()=>se("ag-floating-bottom",v),[v]),q=t.useMemo(()=>({height:i,minHeight:i,display:E,overflowY:P}),[i,E,P]),ee=t.useMemo(()=>({height:l,top:w,width:p}),[l,w,p]),T=t.useMemo(()=>({height:y,bottom:m,width:M}),[y,m,M]),Q=t.useMemo(()=>({height:c,minHeight:c,display:W,overflowY:P}),[c,W,P]),ce=Y=>a.createElement(Rs,{name:Y,key:`${Y}-container`}),te=({section:Y,children:ue,className:ke,style:me})=>a.createElement("div",{ref:Y,className:ke,role:"presentation",style:me},ue.map(ce));return a.createElement("div",{ref:ae,className:ie},a.createElement(os,null),te({section:N,className:Ee,style:q,children:["topLeft","topCenter","topRight","topFullWidth"]}),a.createElement("div",{className:Ce,ref:z,role:"presentation"},te({section:I,className:be,children:["left","center","right","fullWidth"]})),te({section:F,className:ge,style:ee,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),te({section:O,className:L,style:T,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),te({section:A,className:J,style:Q,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},ws=t.memo(vs),Ss=(e,s)=>{const{children:r,eFocusableElement:n,onTabKeyDown:o,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:c}=e,{context:d}=t.useContext(Z),l=t.useRef(null),f=t.useRef(null),w=t.useRef(),C=m=>{const b=m==null?void 0:parseInt(m,10).toString();[l,f].forEach(M=>{b===void 0?M.current?.removeAttribute("tabindex"):M.current?.setAttribute("tabindex",b)})};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(m){w.current?.forceFocusOutOfContainer(m)}}));const p=t.useCallback(()=>{const m=l.current,b=f.current;if(!m&&!b){w.current=d.destroyBean(w.current);return}if(m&&b){const M={setTabIndex:C};w.current=d.createBean(new ct({comp:M,eTopGuard:m,eBottomGuard:b,eFocusableElement:n,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:k=>i.focusInnerElement(k),isEmpty:c}))}},[]),S=t.useCallback(m=>{l.current=m,p()},[p]),y=t.useCallback(m=>{f.current=m,p()},[p]),h=m=>{const b=m==="top"?Pe.TAB_GUARD_TOP:Pe.TAB_GUARD_BOTTOM;return a.createElement("div",{className:`${Pe.TAB_GUARD} ${b}`,role:"presentation",ref:m==="top"?S:y})};return a.createElement(a.Fragment,null,h("top"),r,h("bottom"))},bs=t.forwardRef(Ss),Es=t.memo(bs),ks=({context:e})=>{const[s,r]=t.useState(""),[n,o]=t.useState(""),[i,u]=t.useState(null),[c,d]=t.useState(null),[l,f]=t.useState(!1),[w,C]=t.useState(),p=t.useRef(),S=t.useRef(null),y=t.useRef(),[h,m]=t.useState(null),b=t.useRef(()=>{}),M=t.useRef(),k=t.useRef([]),E=t.useCallback(()=>{},[]),D=t.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);le(" AG Grid ",S);const W=t.useCallback(v=>{if(S.current=v,p.current=v?e.createBean(new lt):e.destroyBean(p.current),!v||e.isDestroyed())return;const _=p.current;b.current=_.focusInnerElement.bind(_);const x={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:H=>{if(!H&&M.current?.isDisplayed()){M.current.forceFocusOutOfContainer(H);return}y.current?.forceFocusOutOfContainer(H)},updateLayoutClasses:o,getFocusableContainers:()=>{const H=[],V=S.current?.querySelector(".ag-root");return V&&H.push({getGui:()=>V}),k.current.forEach(g=>{g.isDisplayed()&&H.push(g)}),H},setCursor:u,setUserSelect:d};_.setComp(x,v,v),f(!0)},[]);t.useEffect(()=>{const v=p.current,_=S.current;if(!w||!D||!v||!h||!_)return;const x=[],{watermarkSelector:H,paginationSelector:V,sideBarSelector:g,statusBarSelector:N,gridHeaderDropZonesSelector:F}=v.getOptionalSelectors(),O=[];if(F){const I=e.createBean(new F.component),A=I.getGui();_.insertAdjacentElement("afterbegin",A),O.push(A),x.push(I)}if(g){const I=e.createBean(new g.component),A=I.getGui(),K=h.querySelector(".ag-tab-guard-bottom");K&&(K.insertAdjacentElement("beforebegin",A),O.push(A)),x.push(I),k.current.push(I)}const z=I=>{const A=e.createBean(new I),K=A.getGui();return _.insertAdjacentElement("beforeend",K),O.push(K),x.push(A),A};if(N&&z(N.component),V){const I=z(V.component);M.current=I,k.current.push(I)}return H&&z(H.component),()=>{e.destroyBeans(x),O.forEach(I=>{I.parentElement?.removeChild(I)})}},[w,h,D]);const U=t.useMemo(()=>se("ag-root-wrapper",s,n),[s,n]),G=t.useMemo(()=>se("ag-root-wrapper-body","ag-focus-managed",n),[n]),R=t.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:i??""}),[c,i]),P=t.useCallback(v=>{y.current=v,C(v!==null)},[]),B=t.useCallback(()=>!p.current?.isFocusable(),[]);return a.createElement("div",{ref:W,className:U,style:R,role:"presentation"},a.createElement("div",{className:G,ref:m,role:"presentation"},l&&h&&D&&a.createElement(Z.Provider,{value:D},a.createElement(Es,{ref:P,eFocusableElement:h,onTabKeyDown:E,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:B},a.createElement(ws,null)))))},Ps=t.memo(ks),Ms=class extends Et{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}},Fs={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},Je=new Set(Object.keys(Fs)),Ke=e=>{const s=t.useRef(),r=t.useRef(null),n=t.useRef(null),o=t.useRef([]),i=t.useRef([]),u=t.useRef(e),c=t.useRef(),d=t.useRef(),l=t.useRef(!1),[f,w]=t.useState(void 0),[,C]=t.useState(0),p=t.useCallback(h=>{if(r.current=h,!h){o.current.forEach(R=>R()),o.current.length=0;return}const m=e.modules||[];n.current||(n.current=new Kt(()=>C(R=>R+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{n.current?.destroy(),n.current=null}));const b=dt(e.gridOptions,e,Object.keys(e).filter(R=>!Je.has(R))),M=()=>{if(l.current){const R=()=>c.current?.shouldQueueUpdates()?void 0:i.current.shift();let P=R();for(;P;)P(),P=R()}},k=new Ds(M);c.current=k;const E=new Ms,D={providedBeanInstances:{frameworkCompWrapper:new Bs(n.current,b.reactiveCustomComponents??pt("reactiveCustomComponents")??!0),renderStatus:E},modules:m,frameworkOverrides:k,setThemeOnGridDiv:!0},W=R=>{w(R),R.createBean(E),o.current.push(()=>{R.destroy()}),R.getBean("ctrlsSvc").whenReady({addDestroyFunc:P=>{o.current.push(P)}},()=>{if(R.isDestroyed())return;const P=s.current;P&&e.setGridApi?.(P)})},U=R=>{R.getBean("ctrlsSvc").whenReady({addDestroyFunc:P=>{o.current.push(P)}},()=>{i.current.forEach(P=>P()),i.current.length=0,l.current=!0})},G=new mt;b.gridId??(b.gridId=d.current),s.current=G.create(h,b,W,U,D),o.current.push(()=>{s.current=void 0}),s.current&&(d.current=s.current.getGridId())},[]),S=t.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),y=t.useCallback(h=>{l.current&&!c.current?.shouldQueueUpdates()?h():i.current.push(h)},[]);return t.useEffect(()=>{const h=xs(u.current,e);u.current=e,y(()=>{s.current&&ht(h,s.current)})},[e]),a.createElement("div",{style:S,className:e.className,ref:p},f&&!f.isDestroyed()?a.createElement(Ps,{context:f}):null,n.current?.getPortals()??null)};function xs(e,s){const r={};return Object.keys(s).forEach(n=>{if(Je.has(n))return;const o=s[n];e[n]!==o&&(r[n]=o)}),r}var Bs=class extends bt{constructor(e,s){super(),this.parent=e,this.reactiveCustomComponents=s}createWrapper(e,s){if(this.reactiveCustomComponents){const o=(i=>{switch(i){case"filter":return Nt;case"floatingFilterComponent":return Ut;case"dateComponent":return Wt;case"dragAndDropImageComponent":return Tt;case"loadingOverlayComponent":return Vt;case"noRowsOverlayComponent":return jt;case"statusPanel":return zt;case"toolPanel":return $t;case"menuItem":return Lt;case"cellRenderer":return Ot;case"innerHeaderComponent":return _t}})(s.name);if(o)return new o(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ge();break}const r=!s.cellRenderer&&s.name!=="toolPanel";return new ze(e,this.parent,s,r)}},Gs=t.forwardRef((e,s)=>{const r=t.useContext(Z),{registry:n,context:o,gos:i,rowModel:u}=r,[c,d]=t.useState(()=>new re),[l,f]=t.useState(()=>new re),[w,C]=t.useState(),[p,S]=t.useState(),y=t.useRef(),h=t.useRef(null),m=t.useRef(),b=t.useMemo(()=>Ze(e.api.getGridId(),w?.rowModelType??"clientSide"),[e]),M=t.useMemo(()=>c.toString()+" ag-details-row",[c]),k=t.useMemo(()=>l.toString()+" ag-details-grid",[l]);s&&t.useImperativeHandle(s,()=>({refresh(){return y.current?.refresh()??!1}})),e.template&&Ue(230);const E=t.useCallback(W=>{if(h.current=W,!W){y.current=o.destroyBean(y.current),m.current?.();return}const U={addOrRemoveCssClass:(R,P)=>d(B=>B.setClass(R,P)),addOrRemoveDetailGridCssClass:(R,P)=>f(B=>B.setClass(R,P)),setDetailGrid:R=>C(R),setRowData:R=>S(R),getGui:()=>h.current},G=n.createDynamicBean("detailCellRendererCtrl",!0);if(G&&(o.createBean(G),G.init(U,e),y.current=G,i.get("detailRowAutoHeight"))){const R=()=>{if(h.current==null)return;const P=h.current.clientHeight;P!=null&&P>0&&setTimeout(()=>{e.node.setRowHeight(P),(it(i)||ut(i))&&u.onRowHeightChanged()},0)};m.current=_e(r,W,R),R()}},[]),D=t.useCallback(W=>{y.current?.registerDetailWithMaster(W)},[]);return a.createElement("div",{className:M,ref:E},w&&a.createElement(Ke,{className:k,...w,modules:b,rowData:p,setGridApi:D}))}),Ds=class extends St{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Oe,agGroupRowRenderer:Oe,agDetailCellRenderer:Gs},this.wrapIncoming=(s,r)=>r==="ensureVisible"?Gt(s):s(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Bt()}},As=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(s=>s(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return a.createElement(Ke,{...this.props,setGridApi:this.setGridApi})}};function Is(e){const s=e.data?.latestconf?.link;return s?he.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:e.value}):e.value}Pt.registerModules([Mt]);const we=e=>{if(!e)return"N/A";const s=new Date(e.replace(" ","T")+"Z"),r=new Date,n=Math.max(0,s.getTime()-r.getTime()),o=Math.floor(n/1e3%60),i=Math.floor(n/(1e3*60)%60),u=Math.floor(n/(1e3*60*60)%24);return`${Math.floor(n/(1e3*60*60*24))}d ${u}h ${i}m ${o}s`},Os=e=>{const[s,r]=t.useState(we(e.data.deadline));return t.useEffect(()=>{const n=setInterval(()=>{r(we(e.data.deadline))},1e3);return()=>clearInterval(n)},[e.data.deadline]),he.jsx("span",{children:s})},Us=e=>{const[s,r]=t.useState(()=>e.conferences.map(l=>({...l,remainingTime:we(l.deadline)})));t.useEffect(()=>{const l=setInterval(()=>{r(f=>f.map(w=>({...w,remainingTime:we(w.deadline)})))},1e3);return()=>clearInterval(l)},[]);const[n,o]=t.useState(null);t.useEffect(()=>{const l=()=>o(window.innerWidth<768);return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const[i,u]=t.useState([{field:"title",headerName:"Title",maxWidth:150,cellRenderer:Is},{field:"sub",headerName:"Domain",maxWidth:150},{field:"rank.core",headerName:"CORE Rank",maxWidth:100},{field:"rank.ccf",headerName:"CCF Rank",maxWidth:100},{field:"deadline",headerName:"Deadline"},{field:"remainingTime",headerName:"Clock",cellRenderer:Os,cellStyle:l=>l.value<"30d"?{color:"white",backgroundColor:"red"}:l.value<"60d"?{color:"white",backgroundColor:"orange"}:{color:"white",backgroundColor:"green"}},{field:"latestconf.date",headerName:"Date"},{field:"latestconf.place",headerName:"Place"}]),c=n?i.filter(l=>["title","deadline","remainingTime"].includes(l.field)):i,d={flex:1,resizable:!0};return he.jsx("div",{className:"overflow-x-auto w-screen flex flex-col",children:he.jsx("div",{className:"flex-grow mt-5",children:he.jsx(As,{rowData:s,columnDefs:c,defaultColDef:d,domLayout:"autoHeight"})})})};export{Us as default};
