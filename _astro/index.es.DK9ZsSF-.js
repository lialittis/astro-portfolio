import{i as B,g as C,m as L,r as N,a as W,A as G,w as V,b as z,c as H,k as J,d as Q,e as M,f as R,h as U,j as X,l as Y,p as Z}from"./stagger.es.B1aIIWq_.js";var $=function(){};function q(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function P(e,t,r,n){var a;return B(t)?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:(a=n.get(t))!==null&&a!==void 0?a:e}function ee(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(N(e,a),n--)}}function te(e,t,r,n,a,f){ee(e,a,f);for(let u=0;u<t.length;u++)e.push({value:t[u],at:L(a,f,n[u]),easing:C(r,u)})}function ne(e,t){return e.at===t.at?e.value===null?1:-1:e.at-t.at}function oe(e,t={}){var r;const n=ae(e,t),a=n.map(f=>W(...f,G)).filter(Boolean);return V(a,t,(r=n[0])===null||r===void 0?void 0:r[3].duration)}function ae(e,t={}){var{defaultOptions:r={}}=t,n=q(t,["defaultOptions"]);const a=[],f=new Map,u={},O=new Map;let w=0,c=0,S=0;for(let m=0;m<e.length;m++){const l=e[m];if(z(l)){O.set(l,c);continue}else if(!Array.isArray(l)){O.set(l.name,P(c,l.at,w,O));continue}const[b,p,i={}]=l;i.at!==void 0&&(c=P(c,i.at,w,O));let s=0;const g=H(b,u),h=g.length;for(let y=0;y<h;y++){const k=g[y],A=re(k,f);for(const d in p){const _=se(d,A);let o=J(p[d]);const T=Q(i,d);let{duration:E=r.duration||M.duration,easing:j=r.easing||M.easing}=T;if(R(j)){$(d==="opacity"||o.length>1);const D=j.createAnimation(o,d!=="opacity",()=>0,d);j=D.easing,o=D.keyframes||o,E=D.duration||E}const x=U(i.delay,y,h)||0,F=c+x,I=F+E;let{offset:v=X(o.length)}=T;v.length===1&&v[0]===0&&(v[1]=1);const K=v.length-o.length;K>0&&Y(v,K),o.length===1&&o.unshift(null),te(_,o,j,v,F,I),s=Math.max(x+E,s),S=Math.max(I,S)}}w=c,c+=s}return f.forEach((m,l)=>{for(const b in m){const p=m[b];p.sort(ne);const i=[],s=[],g=[];for(let h=0;h<p.length;h++){const{at:y,value:k,easing:A}=p[h];i.push(k),s.push(Z(0,S,y)),g.push(A||M.easing)}s[0]!==0&&(s.unshift(0),i.unshift(i[0]),g.unshift("linear")),s[s.length-1]!==1&&(s.push(1),i.push(null)),a.push([l,b,i,Object.assign(Object.assign(Object.assign({},r),{duration:S,easing:g,offset:s}),n)])}}),a}function re(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function se(e,t){return t[e]||(t[e]=[]),t[e]}export{oe as t};
