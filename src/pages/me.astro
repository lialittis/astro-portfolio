---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card/index.astro";
import Button from "../components/Button.astro";
import { LINKS } from "../lib/constants";
import { Icon } from "astro-icon/components";
import Tooltip from "../components/Tooltip/index";
import StyleSwitcher from "../components/StyleSwitcher.astro";
import TerminalWrapper from "../components/Terminal/TerminalWrapper.astro";
import TerminalHeader from "../components/Terminal/TerminalHeader.astro";
import CommandLine from "../components/Terminal/CommandLine.astro";
---

<script>
  import { stagger, spring, timeline, type TimelineDefinition } from "motion";
  import { loaderAnimation } from "../lib/constants";
  const cards = document.querySelectorAll(".card");

  const sequence = [
    loaderAnimation,
    [
      cards,
      { y: ["40%", "0%"], opacity: [0, 1] },
      {
        at: "-0.1",
        duration: 0.4,
        delay: stagger(0.3),
        easing: spring({ velocity: 100, stiffness: 50, damping: 10 }),
      },
    ],
  ];

  timeline(sequence as TimelineDefinition);
</script>

<Layout
  title="Tianchi YU(于天池) - Developer & Hacker"
  description="Security Researcher & Life Hacker"
>
  <StyleSwitcher />
  
  <!-- Modern Layout -->
  <main
    id="modern-container"
    class="modern-container text-white m-auto p-2 grid gap-2 max-w-6xl overflow-hidden relative w-full sm:p-4 sm:gap-2 md:grid-cols-2 md:gap-3 md:p-6 lg:h-screen lg:grid-rows-8 lg:grid-cols-4 lg:gap-4 lg:max-h-[800px]"
  >
    <Card colSpan="md:col-span-8" rowSpan="md:row-span-12" title="">
      <div class="flex w-full h-full">
        <div class="flex flex-col justify-between md:max-h-[300px] gap-4">
          <p class="flex flex-col h-full">
            <h6 class="text-sm font-light m-0 text-gray-500">ME</h6>
            <p class="m-0 font-light text-xl">
              Hi, I'm <b class="font-bold">Tianchi YU</b>, a first-year Ph.D.
          student specializing in <b class="font-bold text-blue-500"
            >System Security</b
          > at the
          <a
            href="https://www.unipd.it/en/"
            target="_blank"
            class="text-red-500">University of Padova</a
          > under the guidance of
          <a
            href="https://www.math.unipd.it/~conti/"
            target="_blank"
            class="font-bold text-red-500">Prof. Mauro Conti</a
          >. I am part of the <a
            href="https://spritz.math.unipd.it/"
            target="_blank"
            class="text-red-500">Security and Privacy (SPRITZ)</a
          > research group, and I also serve as an Industrial Ph.D. student,
          collaborating with Huawei's <b class="font-bold"
            >Trusted System Security Lab</b
          > at Munich Heisenberg Researcher Center, supervised by senior expert <a 
            href="https://scholar.google.com/citations?user=v8jHN5UAAAAJ&hl=en"
            target="_blank"
            class="text-red-500 font-bold">Dr. Mahmoud Ammar</a
          > and director <a
            href="https://www.linkedin.com/in/silviu-vlasceanu/"
            target="_blank"
            class="text-red-500 font-bold">Silviu Vlasceanu</a
          >. I am also co-adviced by <a
            href="https://www.ifi.uzh.ch/en/spins/people/oliveira.html"
            target="_blank"
            class="text-red-500 font-bold">Prof. Ivan De Oliveira Nunes</a> from
            the <a href="https://www.ifi.uzh.ch/en/spins/people.html"
            target="_blank"
            class="text-red-500">Security and Privacy of Information, Networks, and Systems (SPINS)</a> research group at University of Zurich.
              </p>

            <p class="m-0 font-light text-xl">
              My research interests are System/Hardware Security, Trustworthy
              Systems and Heterogenous Computing. I am highly receptive to
              engaging in Open Source Projects as well as any other compelling
              initiatives.
            </p>

            <p class="m-0 font-light text-xl">
              I obtained my first M.Sc. from <a
                href="https://www.ip-paris.fr/en"
                target="_blank"
                class="text-red-500">École Polytechnique/IP-Paris</a
              > in Cyber-Physical Systems, and my second M.Sc.(diplôme d’ingénieur)
              from <a
                href="https://www.isae-supaero.fr/fr/"
                target="_blank"
                class="text-red-500"
                >Institut Supérieur de l’Aéronautique et de l’Espace
              </a>
              , direction of Math and Computer Science. My first professional research
              project was at <a
                href="https://www.nomadic-labs.com/"
                target="_blank"
                class="text-white font-bold">Nomadic Labs</a
              > in 2021 on Smart Contract of Tezos Blockchain, where I was fortunate
              to work with <a
                href="https://yrg.gitlab.io/homepage/"
                target="_blank"
                class="text-red-500 font-bold">Dr. Yann Régis-Gianas</a
              > and Dr.Ric Bonichon. Sooner, I focused more on Hardware Security
              and Machine Learning Security, then I finished my Master Thesis with
              <a
                href="https://scholar.google.de/citations?user=QJv4B9EAAAAJ&hl=fr"
                target="_blank"
                class="text-red-500 font-bold">Dr.Laurent Gomez</a
              > at <a
                href="https://scholar.google.de/citations?user=QJv4B9EAAAAJ&hl=fr"
                target="_blank"
                class="text-white font-bold">SAP Security Research Team</a
              > and we eventually published a scientific paper with the content of
              my thesis.
            </p>

            <p class="m-0 font-light text-xl">
              Beyond coding,
              <ul class="list-disc list-inside text-xl font-light">
                <li>I like anime, music and sports.</li>
                <li>I speak Mandarin, English and French.</li>
                <li>I enjoy reading, thinking and travelling.</li>
              </ul>
            </p>
            <div class="flex gap-4">
              <a
                href={LINKS.github}
                aria-label="github profile"
                target="_blank"
              >
                <Button aria-label="github profile">
                  <Icon name="ri:github-fill" class="h-6" />
                  <span class="sr-only">GitHub Profile</span>
                </Button>
              </a>
              <a
                href={LINKS.linkedin}
                aria-label="linkeding profile"
                target="_blank"
              >
                <Button aria-label="linkedin profile">
                  <Icon name="ri:linkedin-box-fill" class="h-6" />
                  <span class="sr-only">Linkedin Profile</span>
                </Button>
              </a>
              <!-- <a
                href={LINKS.dribble}
                aria-label="dribble profile"
                target="_blank"
              >
                <Button aria-label="dribble profile">
                  <Icon name="ri:dribbble-fill" class="h-6" />
                  <span class="sr-only">Dribble Profile</span>
                </Button>
              </a> -->
              <Tooltip client:visible>
                <Button aria-label="easter egg btn">
                  <Icon name="ri:emotion-laugh-line" class="h-6" />
                  <span class="sr-only">Easter egg button</span>
                </Button>
              </Tooltip>
            </div>
          </p>
        </div>
      </div>
    </Card>
    <!-- <Now />
    <TimeZone /> -->
  </main>

  <!-- Hacker Layout -->
  <div id="hacker-container" class="hacker-container hidden">
    <TerminalWrapper>
      <TerminalHeader title="~/about-me" />
      <div class="terminal-content">
        <div class="terminal-output">
          <div class="about-section">
            <div class="section-header">
              <span class="prompt">$</span> whoami
            </div>
            <p class="terminal-text">
              Hi, I'm <span class="highlight-green">Tianchi YU</span>, a first-year Ph.D. student specializing in <span class="highlight-cyan">System Security</span> at the <a href="https://www.unipd.it/en/" target="_blank" class="terminal-link">University of Padova</a> under the guidance of <a href="https://www.math.unipd.it/~conti/" target="_blank" class="terminal-link">Prof. Mauro Conti</a>. I am part of the <a href="https://spritz.math.unipd.it/" target="_blank" class="terminal-link">Security and Privacy (SPRITZ)</a> research group, and I also serve as an Industrial Ph.D. student, collaborating with <span class="highlight-green">Huawei's</span> Trusted System Security Lab at Munich Heisenberg Researcher Center, supervised by senior expert <a href="https://scholar.google.com/citations?user=v8jHN5UAAAAJ&hl=en" target="_blank" class="terminal-link">Dr. Mahmoud Ammar</a> and director <a href="https://www.linkedin.com/in/silviu-vlasceanu/" target="_blank" class="terminal-link">Silviu Vlasceanu</a>. I am also co-advised by <a href="https://www.ifi.uzh.ch/en/spins/people/oliveira.html" target="_blank" class="terminal-link">Prof. Ivan De Oliveira Nunes</a> from the <a href="https://www.ifi.uzh.ch/en/spins/people.html" target="_blank" class="terminal-link">Security and Privacy of Information, Networks, and Systems (SPINS)</a> research group at University of Zurich.
            </p>
            <p class="terminal-text">
              My research interests are System/Hardware Security, Trustworthy Systems and Heterogenous Computing. I am highly receptive to engaging in Open Source Projects as well as any other compelling initiatives.
            </p>
          </div>

          <div class="about-section">
            <div class="section-header">
              <span class="prompt">$</span> cat education-experience.txt
            </div>
            <p class="terminal-text">
              I obtained my first M.Sc. from <a href="https://www.ip-paris.fr/en" target="_blank" class="terminal-link">École Polytechnique/IP-Paris</a> in Cyber-Physical Systems, and my second M.Sc. (diplôme d'ingénieur) from <a href="https://www.isae-supaero.fr/fr/" target="_blank" class="terminal-link">Institut Supérieur de l'Aéronautique et de l'Espace</a>, direction of Math and Computer Science. My first professional research project was at <span class="highlight-green">Nomadic Labs</span> in 2021 on Smart Contract of Tezos Blockchain, where I was fortunate to work with <a href="https://yrg.gitlab.io/homepage/" target="_blank" class="terminal-link">Dr. Yann Régis-Gianas</a> and Dr. Ric Bonichon. Soon after, I focused more on Hardware Security and Machine Learning Security, then I finished my Master Thesis with <a href="https://scholar.google.de/citations?user=QJv4B9EAAAAJ&hl=fr" target="_blank" class="terminal-link">Dr. Laurent Gomez</a> at <span class="highlight-green">SAP Security Research Team</span> and we eventually published a scientific paper with the content of my thesis.
            </p>
          </div>

          <div class="about-section">
            <div class="section-header">
              <span class="prompt">$</span> cat beyond-coding.txt
            </div>
            <p class="terminal-text">
              Beyond coding, I like anime, music and sports. I speak Mandarin, English and French. I enjoy reading, thinking and travelling.
            </p>
          </div>

          <div class="about-section">
            <div class="section-header">
              <span class="prompt">$</span> ls -la ~/social
            </div>
            <div class="social-links">
              <a href={LINKS.github} target="_blank" class="terminal-social-link">
                <Icon name="ri:github-fill" class="social-icon" />
                <span>GitHub</span>
              </a>
              <a href={LINKS.linkedin} target="_blank" class="terminal-social-link">
                <Icon name="ri:linkedin-box-fill" class="social-icon" />
                <span>LinkedIn</span>
              </a>
            </div>
          </div>

          <div class="cmd-line">
            <span class="prompt">$</span>
            <span class="cursor">_</span>
          </div>
        </div>
      </div>
    </TerminalWrapper>
  </div>
</Layout>

<style>
  @import "../style/glassmorphism-theme.css";
  @import "../style/hacker-theme.css";

  /* Container visibility */
  .modern-container {
    display: grid;
  }

  .hacker-container {
    display: block;
    min-height: 100vh;
    padding: 2rem;
    padding-top: 6rem; /* Space for navbar */
  }

  .modern-container.hidden {
    display: none !important;
  }

  .hacker-container.hidden {
    display: none !important;
  }

  /* Apply glassmorphism theme */
  main {
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%) !important;
    position: relative;
    z-index: 10;
    min-height: 100vh;
  }

  main::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.15) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }

  /* Use glassmorphism card styling */
  :global(.card) {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
    backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
    transition: all 0.3s ease !important;
    animation: fadeInUp 0.6s ease-out;
  }

  :global(.card:hover) {
    transform: translateY(-5px) !important;
    border-color: rgba(102, 126, 234, 0.4) !important;
    box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2) !important;
  }

  /* Typography styles */
  :global(.card h6) {
    color: rgba(255, 255, 255, 0.5) !important;
  }

  :global(.card p) {
    color: rgba(255, 255, 255, 0.8) !important;
  }

  :global(.card b) {
    color: rgba(255, 255, 255, 0.95) !important;
  }

  :global(.card li) {
    color: rgba(255, 255, 255, 0.8) !important;
  }

  /* Link styles */
  :global(.card a) {
    color: rgba(255, 255, 255, 0.9) !important;
    transition: all 0.3s ease !important;
  }

  :global(.card a:hover) {
    color: #667eea !important;
  }

  :global(.card .text-red-500) {
    background: linear-gradient(135deg, #78dbff 0%, #667eea 100%) !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    font-weight: 600 !important;
  }

  :global(.card .text-red-500:hover) {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
  }

  /* Blue text accent */
  :global(.card .text-blue-500) {
    color: #78dbff !important;
  }

  /* Button styles */
  :global(.card button), :global(.card .button) {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    backdrop-filter: blur(10px) !important;
    transition: all 0.3s ease !important;
  }

  :global(.card button:hover), :global(.card .button:hover) {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%) !important;
    transform: translateY(-2px) !important;
    border-color: rgba(102, 126, 234, 0.4) !important;
  }

  /* Animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Hacker Mode Specific Styles */
  .terminal-output {
    padding: 1rem 0;
  }

  .about-section {
    margin-bottom: 2rem;
  }

  .section-header {
    color: #00ff41;
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    margin-bottom: 0.75rem;
    font-size: 1rem;
  }

  .prompt {
    color: #00ff41;
    margin-right: 0.5rem;
  }

  .terminal-text {
    color: rgba(255, 255, 255, 0.9);
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 0.95rem;
    line-height: 1.8;
    margin: 0.5rem 0;
    padding-left: 1.5rem;
  }

  .highlight-green {
    color: #00ff41;
    font-weight: 600;
  }

  .highlight-cyan {
    color: #00d9ff;
    font-weight: 600;
  }

  .terminal-link {
    color: #00d9ff;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: all 0.3s ease;
  }

  .terminal-link:hover {
    color: #00ff41;
    border-bottom-color: #00ff41;
    text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
  }

  .social-links {
    display: flex;
    gap: 1.5rem;
    padding-left: 1.5rem;
    margin-top: 1rem;
  }

  .terminal-social-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #00ff41;
    text-decoration: none;
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 0.95rem;
    padding: 0.5rem 1rem;
    border: 1px solid #00ff41;
    border-radius: 5px;
    transition: all 0.3s ease;
  }

  .terminal-social-link:hover {
    background: rgba(0, 255, 65, 0.2);
    box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
    transform: translateY(-2px);
  }

  .social-icon {
    width: 1.25rem;
    height: 1.25rem;
  }

  .cursor {
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
</style>

<script>
  // Toggle between modern and hacker layouts
  function toggleLayout() {
    const modernContainer = document.getElementById('modern-container');
    const hackerContainer = document.getElementById('hacker-container');
    const currentStyle = document.body.getAttribute('data-style');

    if (currentStyle === 'hacker') {
      modernContainer?.classList.add('hidden');
      hackerContainer?.classList.remove('hidden');
    } else {
      modernContainer?.classList.remove('hidden');
      hackerContainer?.classList.add('hidden');
    }
  }

  // Initial setup
  toggleLayout();

  // Listen for style changes
  window.addEventListener('styleChange', toggleLayout);
  
  // Also check periodically in case the event is missed
  const observer = new MutationObserver(() => {
    toggleLayout();
  });

  observer.observe(document.body, {
    attributes: true,
    attributeFilter: ['data-style']
  });
</script>
