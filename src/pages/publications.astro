---
import FrameLayout from "../layouts/FrameLayout.astro";
import StackedCards from "../components/StackedCards";
import StyleSwitcher from "../components/StyleSwitcher.astro";
import TerminalWrapper from "../components/Terminal/TerminalWrapper.astro";
import TerminalHeader from "../components/Terminal/TerminalHeader.astro";
import CommandLine from "../components/Terminal/CommandLine.astro";
const title = "Publications";

// Publication data
const publications = [
  {
    id: 1,
    type: "publication",
    title: "Security for Distributed Machine Learning",
    authors: "Laurent Gomez.,",
    myName: "Tianchi Yu.",
    conference: "20th International Conference on Security and Cryptography - SECRYPT",
    abstract: "With the adoption of IoT-like technologies, industrials aim to enhance the business value of their physical assets and improve their operational efficiency. However, IoT devices alone tend to strain enterprise systems with a sheer volume of unstructured and unfiltered data. To overcome this challenge, endowing (smart) devices with AI-based capabilities can significantly enhance enterprise system capabilities. However, deploying AI-based capabilities on potentially insecure edge hardware and platforms introduces new security risks, including AI model theft, poisoning, and data leaks. This paradigm shift necessitates the protection of distributed AI applications and data. In this paper, we propose a solution for safeguarding the Intellectual Property and data privacy of ML-based software. We utilize hardware-assisted Privacy Enhancing Technologies, specifically Trusted Execution Environments. We evaluate the effectiveness of our approach in the context of ML-based motion detection in CCTV cameras. This work is part of a co-innovation project with the Smart City of Antibes, France.",
    url: "https://www.scitepress.org/PublicationsDetail.aspx?ID=pdOTx3O9VVE=&t=1"
  }
];
---

<StyleSwitcher />

<FrameLayout title={title} description="Publications">
  <!-- Modern Layout -->
  <div class="modern-container">
    <div class="w-screen h-screen sticky top-0 dotted-bg">
    <div
      class="h-body-with-navbar w-full flex flex-col justify-center items-center gap-10"
    >
      <div class="mt-30 flex flex-col justify-center items-center gap-2.5 z-0">
        <h1
          class="hero-title text-4xl md:text-5xl/[0.7] xl:text-6xl/[0.8] font-bold"
        >
          Publications <br />
          <span class="font-normal">Display</span>
        </h1>

        <p class="text-1xl text-white opacity-80 animate-pulse">
          Please scroll down...
        </p>
      </div>
      <!-- <button
        id="get-in-touch"
        class="rounded-lg bg-amber px-5 py-2.5 text-secondary-900 font-semibold"
        >Get in touch</button
      > -->
    </div>
  </div>
  
    <StackedCards 
      client:load
      cards={[
        {
          id: 1,
          type: "publication",
          title: "0. Security for Distributed Machine Learning",
          width: "calc(100vw - 10rem)",
          authors: "Laurent Gomez.,",
          myName: "Tianchi Yu.",
          conference: "20th International Conference on Security and Cryptography - SECRYPT",
          abstract: "With the adoption of IoT-like technologies, industrials aim to enhance the business value of their physical assets and improve their operational efficiency. However, IoT devices alone tend to strain enterprise systems with a sheer volume of unstructured and unfiltered data. To overcome this challenge, endowing (smart) devices with AI-based capabilities can significantly enhance enterprise system capabilities. However, deploying AI-based capabilities on potentially insecure edge hardware and platforms introduces new security risks, including AI model theft, poisoning, and data leaks. This paradigm shift necessitates the protection of distributed AI applications and data. In this paper, we propose a solution for safeguarding the Intellectual Property and data privacy of ML-based software. We utilize hardware-assisted Privacy Enhancing Technologies, specifically Trusted Execution Environments. We evaluate the effectiveness of our approach in the context of ML-based motion detection in CCTV cameras. This work is part of a co-innovation project with the Smart City of Antibes, France.",
          url: "https://www.scitepress.org/PublicationsDetail.aspx?ID=pdOTx3O9VVE=&t=1"
        },
        {
          id: 2,
          type: "coming-soon",
          title: "More Coming...",
          width: "calc(100vw - 8rem)",
          message: "ðŸš€ Exciting research projects in progress! Stay tuned for upcoming publications in system security, hardware protection, and trusted computing."
        },
        {
          id: 3,
          type: "coming-soon",
          title: "Future Works...",
          width: "calc(100vw - 6rem)",
          message: "ðŸ”¬ Research pipeline includes TEE-based secure computing, hardware-software co-design, and next-generation cryptographic protocols."
        }
      ]}
    />
  </div>

  <!-- Hacker Layout -->
  <div class="hacker-container hidden">
    <TerminalWrapper>
      <TerminalHeader title="~/publications" />
      <div class="terminal-content">
        <CommandLine command="ls -la ~/research/publications" />
        
        <div class="file-listing">
          <div class="file-listing-line" style="color: rgba(0, 255, 65, 0.7);">
            total {publications.length}
          </div>
          {publications.map((pub, index) => (
            <div class="file-listing-line">
              <span style="color: rgba(0, 255, 65, 0.5);">-rw-r--r--</span>
              <span style="color: rgba(0, 255, 65, 0.5); margin: 0 0.5rem;">1</span>
              <span style="color: rgba(0, 255, 65, 0.5); margin-right: 0.5rem;">tianchi</span>
              <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">staff</span>
              <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">2023</span>
              <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">Jul 25</span>
              <span style="color: #00ff41; font-weight: 600;">{pub.title}.pdf</span>
            </div>
          ))}
          <div class="file-listing-line">
            <span style="color: rgba(0, 255, 65, 0.5);">drwxr-xr-x</span>
            <span style="color: rgba(0, 255, 65, 0.5); margin: 0 0.5rem;">2</span>
            <span style="color: rgba(0, 255, 65, 0.5); margin-right: 0.5rem;">tianchi</span>
            <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">staff</span>
            <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">4096</span>
            <span style="color: rgba(0, 255, 65, 0.5); margin-right: 1rem;">Nov 18 2025</span>
            <span style="color: #00d9ff; font-weight: 600;">in_progress/</span>
          </div>
        </div>

        {publications.map((pub, index) => (
          <div class="publication-section">
            <CommandLine command={`cat ${pub.title}.pdf`} />
            <div class="terminal-publication">
              <h2 class="pub-title">[{index}] {pub.title}</h2>
              
              <div class="pub-meta">
                <div class="meta-line">
                  <span class="meta-label">AUTHORS:</span>
                  <span class="meta-value">{pub.authors} <span class="highlight-name">{pub.myName}</span></span>
                </div>
                <div class="meta-line">
                  <span class="meta-label">CONFERENCE:</span>
                  <span class="meta-value">{pub.conference}</span>
                </div>
              </div>

              <div class="pub-abstract">
                <div class="abstract-header">ABSTRACT:</div>
                <p class="abstract-text">{pub.abstract}</p>
              </div>

              <a href={pub.url} target="_blank" rel="noopener noreferrer" class="terminal-link-btn">
                <span>â†’ View Publication</span>
              </a>
            </div>
          </div>
        ))}

        <div class="publication-section">
          <CommandLine command="cat in_progress/status.txt" />
          <div class="terminal-publication coming-soon-terminal">
            <div class="coming-soon-content">
              <h3 style="color: #00d9ff; font-size: 1.5rem; margin-bottom: 1rem;"> More Coming Soon...</h3>
              <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.8;">
                Stay tuned for upcoming publications in:<br/>
                â€¢ System Security<br/>
                â€¢ Memory Protection<br/>
                â€¢ Hardware-Software Co-design<br/>
                â€¢ AI Stack Security<br/>
              </p>
            </div>
          </div>
        </div>

        <CommandLine command="echo 'End of publications list'" />
      </div>
    </TerminalWrapper>
  </div>
</FrameLayout>

<style>
  @import "../style/glassmorphism-theme.css";
  @import "../style/hacker-theme.css";

  /* Container visibility */
  .modern-container {
    display: block;
  }

  .modern-container.hidden {
    display: none !important;
  }

  .hacker-container {
    display: block;
    min-height: 100vh;
    padding: 2rem;
    padding-top: 6rem;
  }

  .hacker-container.hidden {
    display: none !important;
  }

  /* Hacker Mode Specific Styles */
  .file-listing {
    background: rgba(0, 20, 8, 0.3);
    border: 1px solid rgba(0, 255, 65, 0.2);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1rem 0 2rem 0;
    font-family: 'SF Mono', 'Monaco', monospace;
    font-size: 0.875rem;
  }

  .file-listing-line {
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 0.875rem;
    margin: 0.25rem 0;
    color: rgba(0, 255, 65, 0.7);
  }

  .publication-section {
    margin-bottom: 3rem;
  }

  .terminal-publication {
    background: rgba(0, 20, 8, 0.2);
    border: 1px solid rgba(0, 255, 65, 0.2);
    border-radius: 8px;
    padding: 2rem;
    margin-top: 1rem;
  }

  .pub-title {
    color: #00ff41;
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
  }

  .pub-meta {
    margin-bottom: 1.5rem;
  }

  .meta-line {
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 0.95rem;
    margin: 0.75rem 0;
    display: flex;
    gap: 1rem;
  }

  .meta-label {
    color: #00d9ff;
    font-weight: 600;
    min-width: 120px;
  }

  .meta-value {
    color: rgba(255, 255, 255, 0.9);
    flex: 1;
  }

  .highlight-name {
    color: #00ff41;
    font-weight: 700;
  }

  .pub-abstract {
    margin: 1.5rem 0;
  }

  .abstract-header {
    color: #00d9ff;
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .abstract-text {
    color: rgba(255, 255, 255, 0.85);
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 0.95rem;
    line-height: 1.8;
    text-align: justify;
  }

  .terminal-link-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #00ff41;
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    font-size: 1rem;
    padding: 0.75rem 1.5rem;
    border: 1px solid #00ff41;
    border-radius: 5px;
    text-decoration: none;
    transition: all 0.3s ease;
    margin-top: 1rem;
  }

  .terminal-link-btn:hover {
    background: rgba(0, 255, 65, 0.2);
    box-shadow: 0 0 15px rgba(0, 255, 65, 0.3);
    transform: translateY(-2px);
  }

  .coming-soon-terminal {
    background: rgba(0, 20, 20, 0.3);
    border-color: rgba(0, 217, 255, 0.3);
  }

  .coming-soon-content {
    font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    text-align: center;
  }

  /* Enhanced body with glassmorphism background */
  body {
    font-family: "Inter", sans-serif;
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
    color: aliceblue;
    position: relative;
    overflow-x: hidden; /* Hide horizontal scrollbar */
  }

  /* Hide horizontal scrollbar globally */
  html {
    overflow-x: hidden;
  }

  /* Hide scrollbar for webkit browsers */
  ::-webkit-scrollbar-horizontal {
    display: none;
  }

  /* Hide scrollbar for Firefox */
  html {
    scrollbar-width: thin;
    scrollbar-color: transparent transparent;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }

  /* Enhanced dotted background for hero section */
  .dotted-bg {
    background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
    position: relative;
  }

  .dotted-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 25% 25%, rgba(102, 126, 234, 0.3) 2px, transparent 2px),
      radial-gradient(circle at 75% 75%, rgba(255, 119, 198, 0.3) 2px, transparent 2px);
    background-size: 50px 50px;
    opacity: 0.6;
    animation: float 12s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(180deg); }
  }

  /* Enhanced hero text with gradient effects */
  .hero-title {
    background: linear-gradient(135deg, #78dbff 0%, #667eea 50%, #764ba2 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
    animation: glow 3s ease-in-out infinite alternate;
  }

  @keyframes glow {
    from { filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.3)); }
    to { filter: drop-shadow(0 0 30px rgba(120, 219, 255, 0.5)); }
  }

  /* Enhanced heading styles */
  h2 {
    @apply text-2xl font-semibold mb-4;
    background: linear-gradient(135deg, #78dbff 0%, #667eea 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
  }

  /* Enhanced sections with glassmorphism */
  section {
    padding: 0px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-top: 2px solid rgba(102, 126, 234, 0.5);
    border-left: 2px solid rgba(102, 126, 234, 0.3);
    border-right: 2px solid rgba(102, 126, 234, 0.3);
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  section:hover {
    border-top-color: rgba(120, 219, 255, 0.7);
    box-shadow: 
      0 20px 40px rgba(102, 126, 234, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
  }

  /* Enhanced publication content styling */
  .publication-content {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%);
    backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  }

  .publication-content:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.08) 100%);
    border-color: rgba(102, 126, 234, 0.3);
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
  }

  /* Enhanced author and conference text */
  .authors {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1.1rem;
    line-height: 1.6;
  }

  .authors a {
    background: linear-gradient(135deg, #78dbff 0%, #667eea 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
    transition: all 0.3s ease;
  }

  .authors a:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .conference-name {
    color: rgba(255, 255, 255, 0.7);
    font-style: italic;
    margin-top: 0.5rem;
  }

  /* Enhanced abstract text */
  .abstract-text {
    color: rgba(255, 255, 255, 0.85);
    line-height: 1.7;
    font-size: 1rem;
    text-align: justify;
  }

  /* Enhanced URL link button */
  .url-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    color: white;
    padding: 1rem 2rem;
    border-radius: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .url-button:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
    border-color: rgba(120, 219, 255, 0.4);
  }

  .url-button::after {
    content: 'â†’';
    transition: transform 0.3s ease;
  }

  .url-button:hover::after {
    transform: translateX(4px);
  }

  /* Enhanced "More Coming" section */
  .coming-soon {
    background: linear-gradient(135deg, rgba(255, 119, 198, 0.1) 0%, rgba(189, 147, 249, 0.1) 100%);
    border: 1px solid rgba(255, 119, 198, 0.2);
    text-align: center;
    padding: 3rem 2rem;
    border-radius: 16px;
    margin: 2rem;
  }

  .coming-soon h2 {
    background: linear-gradient(135deg, #ff77c6 0%, #bd93f9 100%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  /* Maintain original scroll behavior */
  html.lenis,
  html.lenis body {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-smooth iframe {
    pointer-events: none;
  }

  /* Responsive enhancements */
  @media (max-width: 768px) {
    section {
      margin: 0 1rem;
      border-radius: 12px;
    }
    
    .publication-content {
      padding: 1.5rem;
    }
    
    .hero-title {
      font-size: 2.5rem;
    }
  }

  /* Add subtle animations for content reveal */
  section {
    animation: slideUp 0.6s ease-out;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  // Toggle between modern and hacker layouts
  function toggleLayout() {
    const modernContainer = document.querySelector('.modern-container');
    const hackerContainer = document.querySelector('.hacker-container');
    const currentStyle = document.body.getAttribute('data-style');

    if (currentStyle === 'hacker') {
      modernContainer?.classList.add('hidden');
      hackerContainer?.classList.remove('hidden');
    } else {
      modernContainer?.classList.remove('hidden');
      hackerContainer?.classList.add('hidden');
    }
  }

  // Initial setup
  toggleLayout();

  // Listen for style changes
  window.addEventListener('styleChange', toggleLayout);
  
  // Also check periodically with MutationObserver
  const observer = new MutationObserver(() => {
    toggleLayout();
  });

  observer.observe(document.body, {
    attributes: true,
    attributeFilter: ['data-style']
  });
</script>
